<UserControl x:Class="UI.Views.UserManagement"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:UI.Views"
			 xmlns:CustomControls="clr-namespace:UI.CustomControls"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

	<Grid Background="White">
		<Grid.RowDefinitions>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<DataGrid ItemsSource="{Binding Users}"
				  Grid.Row="0"
				  AutoGenerateColumns="False"
				  CanUserAddRows="False"
                  HorizontalScrollBarVisibility="Auto"
				  VerticalScrollBarVisibility="Auto"
				  Margin="10"
				  ColumnWidth="SizeToCells">
			<DataGrid.Columns>
				<DataGridTextColumn Header="ID" Binding="{Binding _id}" Width="150"/>
				<DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="150"/>
				<DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="200"/>
				<DataGridTextColumn Header="Phone" Binding="{Binding Phone_number}" Width="150"/>
				<DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="100"/>
			</DataGrid.Columns>
		</DataGrid>

		<Grid Grid.Row="1" Margin="10">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>

			<StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="0">
				<Button Content="Edit" Command="{Binding EditUserCommand}" Width="100" Height="30" Margin="0,0,10,0"/>
				<Button Content="Delete" Command="{Binding DeleteUserCommand}" Width="100" Height="30" Margin="0,0,10,0"/>
			</StackPanel>

			<Border BorderBrush="Black" BorderThickness="1" CornerRadius="7" Background="#FF159BD4" Width="150" Height="30" HorizontalAlignment="Right" Grid.Column="2">
				<Button x:Name="AddUserButton" Command="{Binding CreateUserCommand}" Content="Add New User" FontSize="14" BorderThickness="0" Foreground="White" Background="{x:Null}"/>
			</Border>
		</Grid>

		<CustomControls:Pagination 
			VerticalAlignment="Bottom" Margin="10" Grid.Row="2"
			ChangeItemsPerPageCommand="{Binding ChangeItemsPerPageCommand}"
			ItemsPerPage="{Binding RequestParameters.ItemsPerPage}"
			PageNumber="{Binding RequestParameters.PageNumber}"
			NextPageCommand="{Binding NextPageCommand}"
			PreviousPageCommand="{Binding PreviousPageCommand}" />
	</Grid>
</UserControl>